"use strict";var barChart=document.getElementById("barChart").getContext("2d"),pieChart=document.getElementById("pieChart").getContext("2d"),data=[],dataset=[],labels=[],pieData=[],colors=[];function sum(t){for(var e=0,o=t.length||0;o--;)e+=parseInt(t[o].fields.selling_count);return e}function randomNumberGen(t,e){return t+Math.round(Math.random()*(e-t))}function generateColor(){return"rgba(".concat(randomNumberGen(0,255),", ").concat(randomNumberGen(0,255),", ").concat(randomNumberGen(0,255),", 0.5)")}fetch("/data",{method:"GET"}).then(function(t){return t.json()}).then(function(t){var e=sum(data=JSON.parse(t));data.forEach(function(t){dataset.push(t.fields.selling_count),labels.push(t.fields.title),pieData.push(e*parseInt(t.fields.selling_count)/100),colors.push(generateColor())}),new Chart(barChart,{type:"bar",data:{labels:labels,datasets:[{label:"# Selling Count",data:dataset,backgroundColor:colors,borderColor:colors,borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}),new Chart(pieChart,{type:"pie",data:{labels:labels,datasets:[{data:pieData,backgroundColor:colors,borderColor:colors,borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}),document.addEventListener("DOMContentLoaded",function(){var t=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);0<t.length&&t.forEach(function(o){o.addEventListener("click",function(){var t=o.dataset.target,e=document.getElementById(t);o.classList.toggle("is-active"),e.classList.toggle("is-active")})})});var bookModal=document.getElementById("book-modal");function openModal(t){bookModal.style.display="block",fetch("/books/".concat(t),{method:"GET"}).then(function(t){return t.json()}).then(function(t){var e=JSON.parse(t)[0];bookModal.querySelector("p.modal-card-title").innerHTML=e.fields.title,bookModal.querySelector(".modal-card-body>.table").innerHTML="\n        <tr>\n          <th>Author</th>\n          <th>Price</th>\n          <th>Selling Count</th>\n          <th>Created At</th>\n        </tr>\n        <tr>\n          <td>".concat(e.fields.author,"</td>\n          <td>$").concat(e.fields.price,"</td>\n          <td>").concat(e.fields.selling_count,"</td>\n          <td>").concat(moment(e.fields.created_at).format("MMMM Do YYYY, h:mm:ss a"),"</td>\n        </tr>")})}function closeModal(){bookModal.style.display="none",bookModal.querySelector("p.modal-card-title").innerHTML=""}window.onclick=function(t){t.target==bookModal.getElementsByClassName("modal-background")[0]&&(bookModal.style.display="none")};